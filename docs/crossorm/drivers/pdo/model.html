<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="PHPDoctor 2RC4 (http://peej.github.com/phpdoctor/)">
<meta name="when" content="Fri, 02 Dec 2011 14:01:12 +0000">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
<script type="text/javascript">
			$(document).ready(function() {
				$('iframe').load(function() {
				  this.style.height =
				  this.contentWindow.document.body.offsetHeight + 'px';
				});
			});
		</script>
<title>Model (CrossORM Documentation)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>CrossORM</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../crossorm/drivers/pdo/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../crossorm/drivers/pdo/package-tree.html">Tree</a></li>
<li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../crossorm/drivers/pdo/model.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">CrossORM\Drivers\PDO\Model</div>
<a href="../../../source/drivers/pdo/model.php.html#line47" class="location">drivers/pdo/model.php at line 47</a>

<h1>Class Model</h1>

<pre class="tree"><strong>Model</strong><br /></pre>

<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../crossorm/drivers/pdo/model.html">Model</a> </dd>
</dl>

<hr>

<p class="signature">public  class <strong>Model</strong></p>

<div class="comment" id="overview_description"><p>CrossORM Model libarary for PDO driver
This library is based on the excellent "Paris" library by Jamie Matthews</p><p>Paris</p><p>http://github.com/j4mie/paris/</p><p>A simple Active Record implementation built on top of Idiorm
( http://github.com/j4mie/idiorm/ ).</p><p>BSD Licensed.</p><p>Copyright (c) 2010, Jamie Matthews
All rights reserved.</p><p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p><p>* Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p><p>* Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p><p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p></div>

<hr>

<table id="summary_field">
<tr><th colspan="2">Constant Summary</th></tr>
<tr>
<td class="type">final static  str</td>
<td class="description"><p class="name"><a href="#DEFAULT_FOREIGN_KEY_SUFFIX">DEFAULT_FOREIGN_KEY_SUFFIX</a></p></td>
</tr>
<tr>
<td class="type">final static  str</td>
<td class="description"><p class="name"><a href="#DEFAULT_ID_COLUMN">DEFAULT_ID_COLUMN</a></p></td>
</tr>
</table>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type"> mixed</td>
<td class="description"><p class="name"><a href="#orm">$orm</a></p><p class="description">The ORM instance used by this model
instance to communicate with the database.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__call()">__call</a>(string method, array|void args)</p><p class="description">Forward unknown method calls to the ORM</p></td>
</tr>
<tr>
<td class="type">protected static  void</td>
<td class="description"><p class="name"><a href="#_get_static_property()">_get_static_property</a>(mixed class_name, mixed property, mixed default)</p><p class="description">Retrieve the value of a static property on a class. </p></td>
</tr>
<tr>
<td class="type">protected static  void</td>
<td class="description"><p class="name"><a href="#_get_table_name()">_get_table_name</a>(mixed class_name)</p><p class="description">Static method to get a table name given a class name.
</p></td>
</tr>
<tr>
<td class="type">protected static  void</td>
<td class="description"><p class="name"><a href="#_class_name_to_table_name()">_class_name_to_table_name</a>(mixed class_name)</p><p class="description">Static method to convert a class name in CapWords
to a table name in lowercase_with_underscores.
</p></td>
</tr>
<tr>
<td class="type">protected static  void</td>
<td class="description"><p class="name"><a href="#_get_id_column_name()">_get_id_column_name</a>(mixed class_name)</p><p class="description">Return the ID column name to use for this class. </p></td>
</tr>
<tr>
<td class="type">protected static  void</td>
<td class="description"><p class="name"><a href="#_build_foreign_key_name()">_build_foreign_key_name</a>(mixed specified_foreign_key_name, mixed table_name)</p><p class="description">Build a foreign key based on a table name. </p></td>
</tr>
<tr>
<td class="type">static  void</td>
<td class="description"><p class="name"><a href="#factory()">factory</a>(mixed class_name)</p><p class="description">Factory method used to acquire instances of the given class.
</p></td>
</tr>
<tr>
<td class="type">protected  void</td>
<td class="description"><p class="name"><a href="#_has_one_or_many()">_has_one_or_many</a>(mixed associated_class_name, mixed foreign_key_name)</p><p class="description">Internal method to construct the queries for both the has_one and
has_many methods. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#has_one()">has_one</a>(mixed associated_class_name, mixed foreign_key_name)</p><p class="description">Helper method to manage one-to-one relations where the foreign
key is on the associated table.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#has_many()">has_many</a>(mixed associated_class_name, mixed foreign_key_name)</p><p class="description">Helper method to manage one-to-many relations where the foreign
key is on the associated table.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#belongs_to()">belongs_to</a>(mixed associated_class_name, mixed foreign_key_name)</p><p class="description">Helper method to manage one-to-one and one-to-many relations where
the foreign key is on the base table.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#has_many_through()">has_many_through</a>(mixed associated_class_name, mixed join_class_name, mixed key_to_base_table, mixed key_to_associated_table)</p><p class="description">Helper method to manage many-to-many relationships via an intermediate model. </p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#set_orm()">set_orm</a>(mixed orm)</p><p class="description">Set the wrapped ORM instance associated with this Model instance.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__get()">__get</a>(mixed property)</p><p class="description">Magic getter method, allows $model->property access to data.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__set()">__set</a>(mixed property, mixed value)</p><p class="description">Magic setter method, allows $model->property = 'value' access to data.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#__isset()">__isset</a>(mixed property)</p><p class="description">Magic isset method, allows isset($model->property) to work correctly.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#get()">get</a>(mixed property)</p><p class="description">Getter method, allows $model->get('property') access to data</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#set()">set</a>(mixed property, mixed value)</p><p class="description">Setter method, allows $model->set('property', 'value') access to data.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#is_dirty()">is_dirty</a>(mixed property)</p><p class="description">Check whether the given field has changed since the object was created or saved</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#as_array()">as_array</a>()</p><p class="description">Wrapper for Idiorm's as_array method.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#save()">save</a>()</p><p class="description">Save the data associated with this model instance to the database.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#delete()">delete</a>()</p><p class="description">Delete the database row associated with this model instance.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#id()">id</a>()</p><p class="description">Get the database ID of this model instance.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#hydrate()">hydrate</a>(mixed data)</p><p class="description">Hydrate this model instance with an associative array of data.
</p></td>
</tr>
</table>

<h2 id="detail_field">Constant Detail</h2>
<a href="../../../source/drivers/pdo/model.php.html#line67" class="location">drivers/pdo/model.php at line 67</a>

<h3 id="DEFAULT_FOREIGN_KEY_SUFFIX">DEFAULT_FOREIGN_KEY_SUFFIX</h3>
<code class="signature">public final static  str <strong>DEFAULT_FOREIGN_KEY_SUFFIX</strong> = '_id'</code>
<div class="details">
</div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line64" class="location">drivers/pdo/model.php at line 64</a>

<h3 id="DEFAULT_ID_COLUMN">DEFAULT_ID_COLUMN</h3>
<code class="signature">public final static  str <strong>DEFAULT_ID_COLUMN</strong> = 'id'</code>
<div class="details">
</div>

<hr>

<h2 id="detail_field">Field Detail</h2>
<a href="../../../source/drivers/pdo/model.php.html#line73" class="location">drivers/pdo/model.php at line 73</a>

<h3 id="orm">orm</h3>
<code class="signature">public  mixed <strong>$orm</strong></code>
<div class="details">
<p>The ORM instance used by this model
instance to communicate with the database.</p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<a href="../../../source/drivers/pdo/model.php.html#line57" class="location">drivers/pdo/model.php at line 57</a>

<h3 id="__call()">__call</h3>
<code class="signature">public  void <strong>__call</strong>(string method, array|void args)</code>
<div class="details">
<p>Forward unknown method calls to the ORM</p><dl>
<dt>Returns:</dt>
<dd>mixed</dd>
</dl>
</div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line80" class="location">drivers/pdo/model.php at line 80</a>

<h3 id="_get_static_property()">_get_static_property</h3>
<code class="signature">protected static  void <strong>_get_static_property</strong>(mixed class_name, mixed property, mixed default)</code>
<div class="details">
<p>Retrieve the value of a static property on a class. If the
class or the property does not exist, returns the default
value supplied as the third argument (which defaults to null).</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line99" class="location">drivers/pdo/model.php at line 99</a>

<h3 id="_get_table_name()">_get_table_name</h3>
<code class="signature">protected static  void <strong>_get_table_name</strong>(mixed class_name)</code>
<div class="details">
<p>Static method to get a table name given a class name.
If the supplied class has a public static property
named $_table, the value of this property will be
returned. If not, the class name will be converted using
the _class_name_to_table_name method method.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line116" class="location">drivers/pdo/model.php at line 116</a>

<h3 id="_class_name_to_table_name()">_class_name_to_table_name</h3>
<code class="signature">protected static  void <strong>_class_name_to_table_name</strong>(mixed class_name)</code>
<div class="details">
<p>Static method to convert a class name in CapWords
to a table name in lowercase_with_underscores.
For example, CarTyre would be converted to car_tyre.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line125" class="location">drivers/pdo/model.php at line 125</a>

<h3 id="_get_id_column_name()">_get_id_column_name</h3>
<code class="signature">protected static  void <strong>_get_id_column_name</strong>(mixed class_name)</code>
<div class="details">
<p>Return the ID column name to use for this class. If it is
not set on the class, returns null.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line136" class="location">drivers/pdo/model.php at line 136</a>

<h3 id="_build_foreign_key_name()">_build_foreign_key_name</h3>
<code class="signature">protected static  void <strong>_build_foreign_key_name</strong>(mixed specified_foreign_key_name, mixed table_name)</code>
<div class="details">
<p>Build a foreign key based on a table name. If the first argument
(the specified foreign key column name) is null, returns the second
argument (the name of the table) with the default foreign key column
suffix appended.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line155" class="location">drivers/pdo/model.php at line 155</a>

<h3 id="factory()">factory</h3>
<code class="signature">public static  void <strong>factory</strong>(mixed class_name)</code>
<div class="details">
<p>Factory method used to acquire instances of the given class.
The class name should be supplied as a string, and the class
should already have been loaded by PHP (or a suitable autoloader
should exist). This method actually returns a wrapped ORM object
which allows a database query to be built. The wrapped ORM object is
responsible for returning instances of the correct class when
its find_one or find_many methods are called.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line172" class="location">drivers/pdo/model.php at line 172</a>

<h3 id="_has_one_or_many()">_has_one_or_many</h3>
<code class="signature">protected  void <strong>_has_one_or_many</strong>(mixed associated_class_name, mixed foreign_key_name)</code>
<div class="details">
<p>Internal method to construct the queries for both the has_one and
has_many methods. These two types of association are identical; the
only difference is whether find_one or find_many is used to complete
the method chain.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line184" class="location">drivers/pdo/model.php at line 184</a>

<h3 id="has_one()">has_one</h3>
<code class="signature">public  void <strong>has_one</strong>(mixed associated_class_name, mixed foreign_key_name)</code>
<div class="details">
<p>Helper method to manage one-to-one relations where the foreign
key is on the associated table.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line193" class="location">drivers/pdo/model.php at line 193</a>

<h3 id="has_many()">has_many</h3>
<code class="signature">public  void <strong>has_many</strong>(mixed associated_class_name, mixed foreign_key_name)</code>
<div class="details">
<p>Helper method to manage one-to-many relations where the foreign
key is on the associated table.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line202" class="location">drivers/pdo/model.php at line 202</a>

<h3 id="belongs_to()">belongs_to</h3>
<code class="signature">public  void <strong>belongs_to</strong>(mixed associated_class_name, mixed foreign_key_name)</code>
<div class="details">
<p>Helper method to manage one-to-one and one-to-many relations where
the foreign key is on the base table.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line215" class="location">drivers/pdo/model.php at line 215</a>

<h3 id="has_many_through()">has_many_through</h3>
<code class="signature">public  void <strong>has_many_through</strong>(mixed associated_class_name, mixed join_class_name, mixed key_to_base_table, mixed key_to_associated_table)</code>
<div class="details">
<p>Helper method to manage many-to-many relationships via an intermediate model. See
README for a full explanation of the parameters.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line250" class="location">drivers/pdo/model.php at line 250</a>

<h3 id="set_orm()">set_orm</h3>
<code class="signature">public  void <strong>set_orm</strong>(mixed orm)</code>
<div class="details">
<p>Set the wrapped ORM instance associated with this Model instance.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line258" class="location">drivers/pdo/model.php at line 258</a>

<h3 id="__get()">__get</h3>
<code class="signature">public  void <strong>__get</strong>(mixed property)</code>
<div class="details">
<p>Magic getter method, allows $model->property access to data.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line266" class="location">drivers/pdo/model.php at line 266</a>

<h3 id="__set()">__set</h3>
<code class="signature">public  void <strong>__set</strong>(mixed property, mixed value)</code>
<div class="details">
<p>Magic setter method, allows $model->property = 'value' access to data.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line274" class="location">drivers/pdo/model.php at line 274</a>

<h3 id="__isset()">__isset</h3>
<code class="signature">public  void <strong>__isset</strong>(mixed property)</code>
<div class="details">
<p>Magic isset method, allows isset($model->property) to work correctly.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line282" class="location">drivers/pdo/model.php at line 282</a>

<h3 id="get()">get</h3>
<code class="signature">public  void <strong>get</strong>(mixed property)</code>
<div class="details">
<p>Getter method, allows $model->get('property') access to data</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line290" class="location">drivers/pdo/model.php at line 290</a>

<h3 id="set()">set</h3>
<code class="signature">public  void <strong>set</strong>(mixed property, mixed value)</code>
<div class="details">
<p>Setter method, allows $model->set('property', 'value') access to data.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line298" class="location">drivers/pdo/model.php at line 298</a>

<h3 id="is_dirty()">is_dirty</h3>
<code class="signature">public  void <strong>is_dirty</strong>(mixed property)</code>
<div class="details">
<p>Check whether the given field has changed since the object was created or saved</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line306" class="location">drivers/pdo/model.php at line 306</a>

<h3 id="as_array()">as_array</h3>
<code class="signature">public  void <strong>as_array</strong>()</code>
<div class="details">
<p>Wrapper for Idiorm's as_array method.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line315" class="location">drivers/pdo/model.php at line 315</a>

<h3 id="save()">save</h3>
<code class="signature">public  void <strong>save</strong>()</code>
<div class="details">
<p>Save the data associated with this model instance to the database.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line323" class="location">drivers/pdo/model.php at line 323</a>

<h3 id="delete()">delete</h3>
<code class="signature">public  void <strong>delete</strong>()</code>
<div class="details">
<p>Delete the database row associated with this model instance.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line331" class="location">drivers/pdo/model.php at line 331</a>

<h3 id="id()">id</h3>
<code class="signature">public  void <strong>id</strong>()</code>
<div class="details">
<p>Get the database ID of this model instance.</p></div>

<hr>

<a href="../../../source/drivers/pdo/model.php.html#line342" class="location">drivers/pdo/model.php at line 342</a>

<h3 id="hydrate()">hydrate</h3>
<code class="signature">public  void <strong>hydrate</strong>(mixed data)</code>
<div class="details">
<p>Hydrate this model instance with an associative array of data.
WARNING: The keys in the array MUST match with columns in the
corresponding database table. If any keys are supplied which
do not match up with columns, the database will throw an error.</p></div>

<hr>

<div class="header">
<h1>CrossORM</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../crossorm/drivers/pdo/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../crossorm/drivers/pdo/package-tree.html">Tree</a></li>
<li><a href="../../../overview-files.html">Files</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../todo-list.html">Todo</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../crossorm/drivers/pdo/model.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href=http://peej.github.com/phpdoctor/>PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>